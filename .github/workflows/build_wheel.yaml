name: Build
on: [push, pull_request]
#on: [workflow_dispatch] # manual tigger
env:
   PYVERSION: "cp37-*"

jobs:
  build_wheels:
    name: Make ${{ matrix.os }} wheels for  ${{ matrix.pybuild }}
    runs-on: ${{ matrix.os }}
    strategy:
      fail-fast: true
      matrix:
        os:      [windows-latest]
        #pybuild: ["cp37-*", "cp38-*" ,"cp39-*"]
        exclude:
          - os: ubuntu-latest
            #cibw_arch: aarch64            
            #pybuild: "cp37-*"        

    steps:
      - uses: actions/checkout@v4
      - name: Install Python
        uses: actions/setup-python@v4
        with:
             python-version: '3.7'
             
      #if: startsWith(runner.os, 'Windows') && ( matrix.pybuild=='cp37-*' ||matrix.pybuild =='cp38-' )
      - if: startsWith(runner.os, 'Windows')
        shell: cmd
        run: |
             copy  pyproject_np1.17.3_miw3738.toml  pyproject.toml 
             echo "::set-env name=PYVERSION::cp3dd-*"
        
      - run:  echo $PYVERSION
        